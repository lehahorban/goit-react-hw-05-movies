{"version":3,"file":"static/js/115.94b35ab3.chunk.js","mappings":"yNA4EA,UAtEA,WACE,OAAoCA,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAeMC,EAAQF,EAAaG,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACM,OAAVF,GAGJG,EAAAA,EAAAA,aAAiBH,GAAOI,MAAK,SAAAC,GAAa,OACxCT,EAAeS,EADyB,GAG3C,GAAE,CAACL,EAAOL,IAEX,IAAMW,GAAWC,EAAAA,EAAAA,MAEjB,OACE,4BACE,kBAAMC,SAxBO,SAAAC,GAEf,GADAA,EAAEC,iBACwB,KAAtBjB,EAAWkB,OACb,OAAOC,MAAM,2IAEfb,EAA+B,KAAfN,EAAoB,CAAEO,MAAOP,GAAe,CAAC,GAC7DC,EAAc,GACf,EAiB6BmB,UAAWC,EAAAA,EAAAA,KAArC,WACE,kBACED,UAAWC,EAAAA,EAAAA,MACXC,KAAK,OACLC,MAAOvB,EACPwB,SAlCS,SAAAR,GACf,IAAMO,EAAQP,EAAES,OAAOF,MACvBtB,EAAcsB,EACf,KAiCK,mBAAQH,UAAWC,EAAAA,EAAAA,IAAWC,KAAK,SAAnC,wBAIF,eAAIF,UAAWC,EAAAA,EAAAA,UAAf,SACGnB,EAAYwB,KAAI,SAAAC,GAAI,OACnB,eAAIP,UAAWC,EAAAA,EAAAA,UAAf,UACE,UAAC,KAAD,CACEO,MAAO,CAAEC,KAAMhB,GACfO,UAAWC,EAAAA,EAAAA,UACXS,GAAE,kBAAaH,EAAKI,IAHtB,WAKE,gBACEX,UAAWC,EAAAA,EAAAA,WACXW,IACEL,EAAKM,YAAL,yCACsCN,EAAKM,aACvCC,EAENC,IAAKR,EAAKS,QAEXT,EAAKU,MAAQV,EAAKS,UAfcT,EAAKI,GADvB,QAuB5B,C,oBC1ED,IAAMO,EAAM,mCAsCZ,IAAM5B,EAAM,CACV6B,YArCF,WACE,OAAOC,MAAM,yDAAD,OAA0DF,IACnE3B,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,IACb/B,MAAK,SAAAgC,GAAI,OAAIA,EAAKC,OAAT,GACb,EAkCCC,aAhCF,SAAsBC,GACpB,OAAON,MAAM,qDAAD,OAC2CF,EAD3C,iCACuEQ,EADvE,yBAGTnC,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,IACb/B,MAAK,SAAAgC,GAAI,OAAIA,EAAKC,OAAT,GACb,EA2BCG,gBAzBF,SAAyBhB,GACvB,OAAOS,MAAM,sCAAD,OAC4BT,EAD5B,oBAC0CO,EAD1C,mBAGb,EAsBCU,gBApBF,SAAyBjB,GACvB,OAAOS,MAAM,sCAAD,OAC4BT,EAD5B,4BACkDO,EADlD,oBAGT3B,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,IACb/B,MAAK,SAAAgC,GAAI,OAAIA,EAAKM,IAAT,GACb,EAeCC,gBAbF,SAAyBnB,GACvB,OAAOS,MAAM,sCAAD,OAC4BT,EAD5B,4BACkDO,EADlD,2BAGT3B,MAAK,SAAA8B,GAAQ,OAAIA,EAASC,MAAb,IACb/B,MAAK,SAAAgC,GAAI,OAAIA,EAAKC,OAAT,GACb,GAUD,K","sources":["components/Movies/Movies.jsx","services/services.js"],"sourcesContent":["import { NavLink, useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Api from 'services/services';\nimport image_404 from './image.png';\nimport style from '../../style.module.css';\n\nfunction Movies() {\n  const [inputValue, setInputValue] = useState('');\n  const [moviesArray, setMoviesArray] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const onChange = e => {\n    const value = e.target.value;\n    setInputValue(value);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (inputValue.trim() === '') {\n      return alert('Треба написати що шукаєте');\n    }\n    setSearchParams(inputValue !== '' ? { query: inputValue } : {});\n    setInputValue('');\n  };\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n    Api.searchMovies(query).then(moviesResults =>\n      setMoviesArray(moviesResults)\n    );\n  }, [query, moviesArray]);\n\n  const location = useLocation();\n\n  return (\n    <div>\n      <form onSubmit={onSubmit} className={style.form}>\n        <input\n          className={style.input}\n          type=\"text\"\n          value={inputValue}\n          onChange={onChange}\n        />\n        <button className={style.btn} type=\"submit\">\n          Search\n        </button>\n      </form>\n      <ul className={style.movieList}>\n        {moviesArray.map(item => (\n          <li className={style.movieItem} key={item.id}>\n            <NavLink\n              state={{ from: location }}\n              className={style.movieLink}\n              to={`/movies/${item.id}`}\n            >\n              <img\n                className={style.movieImage}\n                src={\n                  item.poster_path\n                    ? `https://image.tmdb.org/t/p/w500${item.poster_path}`\n                    : image_404\n                }\n                alt={item.title}\n              />\n              {item.name || item.title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Movies;\n","const Key = '4fd2b5a839245f9e522eea96c28988fc';\n\nfunction getTrending() {\n  return fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${Key}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nfunction searchMovies(movies) {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${Key}&language=en-US&query=${movies}&include_adult=false`\n  )\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nfunction getMovieDetails(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${Key}&language=en-US`\n  );\n}\n\nfunction getMovieCredits(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${Key}&language=en-US`\n  )\n    .then(response => response.json())\n    .then(data => data.cast);\n}\n\nfunction getMovieReviews(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${Key}&language=en-US&page=1`\n  )\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nconst Api = {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default Api;\n"],"names":["useState","inputValue","setInputValue","moviesArray","setMoviesArray","useSearchParams","searchParams","setSearchParams","query","get","useEffect","Api","then","moviesResults","location","useLocation","onSubmit","e","preventDefault","trim","alert","className","style","type","value","onChange","target","map","item","state","from","to","id","src","poster_path","image_404","alt","title","name","Key","getTrending","fetch","response","json","data","results","searchMovies","movies","getMovieDetails","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}