{"version":3,"file":"static/js/947.58758cbd.chunk.js","mappings":"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","sources":["components/MovieDetails/MovieDetails.jsx","services/services.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  Link,\n  Outlet,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport Api from 'services/services';\nimport style from '../../style.module.css';\nimport image_404 from './image.png';\n\nfunction MovieDetails() {\n  const [moviesDetails, setMoviesDetails] = useState([]);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    Api.getMovieDetails(movieId)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => setMoviesDetails([data]))\n      .catch(error => {\n        console.log(error);\n      });\n  }, [movieId]);\n\n  const location = useLocation();\n  const from = location.state?.from ?? '/';\n\n  const navigate = useNavigate();\n  const goBack = () => navigate(from);\n\n  return (\n    <div className={style.movieWrapp}>\n      <button onClick={goBack} className={style.btnGoBack} type=\"button\">\n        Go Back\n      </button>\n      <ul className={style.moviesDetails}>\n        {moviesDetails.length < 1 && (\n          <div className={style.errorWrapper}>\n            <h2 className={style.errorTitle}>Sorry page not found</h2>\n            <img className={style.image_404} src={image_404} alt=\"404\" />\n          </div>\n        )}\n        {moviesDetails.map(item => (\n          <li className={style.detailsItem} key={item.id}>\n            <img\n              className={style.movieDetailsImage}\n              src={`https://image.tmdb.org/t/p/w500${item.poster_path}`}\n              alt={item.title}\n            />\n            <div className={style.itemWrapper}>\n              <p className={style.movieDetailsTextTitle}>{item.title}</p>\n              <p className={style.movieDetailsText}>\n                <span>User Score:</span> {item.vote_average.toFixed(1)}\n              </p>\n              <p className={style.movieDetailsText}>\n                <span>Overview:</span> {item.overview}\n              </p>\n              <p className={style.movieDetailsText}>\n                <span>Genres:</span>{' '}\n                {item.genres.map(item => item.name).join(' | ')}\n              </p>\n              <div className={style.movieDetailsWrapper}>\n                <Link\n                  state={{ from }}\n                  className={style.movieDetailsText}\n                  to={`/movies/${item.id}/cast`}\n                >\n                  <span>Cast</span>\n                </Link>\n                <Link\n                  state={{ from }}\n                  className={style.movieDetailsText}\n                  to={`/movies/${item.id}/reviews`}\n                >\n                  <span>Reviews</span>\n                </Link>\n              </div>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <Outlet />\n    </div>\n  );\n}\n\nexport default MovieDetails;\n","const Key = '4fd2b5a839245f9e522eea96c28988fc';\n\nfunction getTrending() {\n  return fetch(`https://api.themoviedb.org/3/trending/all/day?api_key=${Key}`)\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nfunction searchMovies(movies) {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${Key}&language=en-US&query=${movies}&include_adult=false`\n  )\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nfunction getMovieDetails(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${Key}&language=en-US`\n  );\n}\n\nfunction getMovieCredits(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${Key}&language=en-US`\n  )\n    .then(response => response.json())\n    .then(data => data.cast);\n}\n\nfunction getMovieReviews(id) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${Key}&language=en-US&page=1`\n  )\n    .then(response => response.json())\n    .then(data => data.results);\n}\n\nconst Api = {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default Api;\n"],"names":["useState","moviesDetails","setMoviesDetails","movieId","useParams","useEffect","Api","then","response","ok","Error","status","json","data","catch","error","console","log","from","useLocation","state","navigate","useNavigate","className","style","onClick","type","length","src","image_404","alt","map","item","poster_path","title","vote_average","toFixed","overview","genres","name","join","to","id","Key","getTrending","fetch","results","searchMovies","movies","getMovieDetails","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}